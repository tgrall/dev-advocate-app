<div class="container" ng-show="!user.authenticated" >
  <div class="alert alert-warning text-center" role="alert"><h3>You need to login</h3></div>
</div>

<div class="container" ng-show="user.authenticated" >  <div class="row">
    <div class="col-md-9">
      <h1><span class="glyphicon glyphicon-file"></span> Papers</h1>
    </div>

  </div>
  <div>
    <div class="row text-center">
      <div class="col-md-4 col-md-offset-4 input-group">
        <span class="input-group-addon"><span class="glyphicon glyphicon-search"></span></span>
        <input class="form-control" data-ng-model="searchQuery" data-ng-change="search()" placeholder="search text ...">
      </div>

      <input type="checkbox" ng-model="advanced" /> Advanced
    </div>


    <div class="row text-center voffset2" ng-show="advanced">
      <label for="topic" class="col-md-2   control-label">Topic:</label>
      <div class="col-sm-4">
        <select ng-model="topic" ng-options="value._id as value._id for value in topics" class="form-control" data-ng-change="search()" required>
        </select>
      </div>

      <label for="technology" class="col-md-2  control-label">Technologies:</label>
      <div class="col-sm-4">
        <select ng-model="technology" ng-options="value._id as value._id for value in technologies" class="form-control" data-ng-change="search()" required>
        </select>
      </div>

    </div>

    <div class="text-center" style="margin-top: 20px;">
      <a class="btn btn-warning" href="#/papers/create">
        <span class="glyphicon glyphicon-plus-sign"></span> Add paper ...
      </a>
    </div>


    <div>
    <table class="table table-striped table-condensed table-hover" style="margin-top: 40px;">
      <thead>
        <tr>
          <th class="col-md-4">Title</th>
          <th class="col-md-3">Authors</th>
          <th class="col-md-3">Topics</th>
          <th class="col-md-2">Technologies</th>
          <th class="col-md-2">Status</th>
        </tr>
      </thead>
      <tbody class="rowlink">
        <tr data-ng-repeat="paper in items">
          <td>
            <a ng-href="#/papers/{{paper._id}}">{{paper.title}}</a>
          </td>
          <td>
            <span ng-repeat="item in paper.authors">
              <a ng-href="#/papers/{{paper._id}}">
              <span ng-show="$index != 0">,</span>
              {{item.author.displayName}}
              </a>
            </span>

          </td>
          <td>
            <span  ng-repeat="topic in paper.topics" >
              <button ng-click="selectTopic(topic)" class="btn btn-default btn-xs" style="margin: 3px;" >{{ topic }}</button>
            </span>
          </td>
          <td>
            <span  ng-repeat="technology in paper.technologies" >
              <button ng-click="selectTechnology(technology)" class="btn btn-default btn-xs" style="margin: 3px;" >{{ technology }}</button>
            </span>
          </td>
          <td>
            {{paper.status}}
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  </div>
</div>
